repos:
  - repo: https://github.com/qoomon/git-conventional-commits
    rev: v2.6.3
    hooks:
      - id: conventional-commits

  - repo: local
    hooks:
      - id: lint-frontend
        name: Lint Frontend
        entry: npm run lint
        language: node
        files: ^(?!(next\.config\.ts$)).*\.(js|jsx|ts|tsx)$

      - id: prettier-frontend
        name: Prettier Frontend
        entry: npm run prettier
        language: node
        files: \.(js|jsx|ts|tsx)$

      - id: lint-backend
        name: Lint Backend
        entry: cargo fmt --check --all && cargo clippy --all-targets --all-features --workspace
        language: system
        files: \.rs$

      - id: test-backend
        name: Test Backend
        entry: cargo test --workspace
        language: system
        files: \.rs$

      - id: test-frontend
        name: Test Frontend
        entry: npm run test:unit
        language: node
        files: \.(js|jsx|ts|tsx)$
